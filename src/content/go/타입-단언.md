---
title: '형 단언 (Type Assertion)'
layout : post
category: go
author: [Frank Oh]
image: ../img/cover-go.png
date: '2021-01-16T18:05:23.000Z'
draft: false
tags: ["go", "golang", "type", "assertion", "타입", "형단어", "타입단어", "단언", "고", "고랭"]
---

- type assertion이란

- - 인터페이스 타입을 다른 데이터 타입으로 변경하지 않음

  - 인터페이스의 concrete 값 접근을 제공한다

  - x.(T) : x에 저장된 concrete value 값이 타입 T이고 x가 nil이 아니라고 단언한다

  - - T가 인터페이스가 아니면, 동적 타입의 x가 T와 같다고 단언함
    - T가 인터페이스면, 동적 타입의 x는 T를 구현한 타입으로 단언한다

형 단언(Type assertion)은 



```go
t := variable.(type)
```

- 

 변수가 지정한 자료형인지를 검사해주고 실제 값을 반환해준다. 

인지를 검사해준다고 이해하면 ㄷ



형 변환 (Type conversion)

타입 변환 (Type conversion)과는 다르다. 

타입 단언인터페이스의 실제 값(concrete value)에 대한 접근을 

- value 변수는 타입이 인터페이스이여야 한다
- typeName는 concrete type



```go
func Example_TypeAssertion() {
	var i interface{} = "foo"

	var s = i.(string)
	fmt.Println(s)

	s, ok := i.(string)
	fmt.Println(s, ok)

	n, ok := i.(int) //panic 대신 ok:false, n는 zero 값으로 반환한다
	fmt.Println(n, ok)

	//Output:
	//foo
	//foo true
	//0 false
}
```



```go
func Example_TypeAssertion_Illegal() {
	var i interface{} = "foo"

	var n = i.(int) //panic: interface conversion: interface {} is string, not int
	fmt.Println(n)

	//Output:
}
```



본 포스팅에서 작성한 코드는 [github](https://github.com/kenshin579/tutorials-go/tree/master/go-enums-iota)에서 확인할 수 있다.

# 참고

- Type assertions
  - https://yourbasic.org/golang/type-assertion-switch/
  - https://feel5ny.github.io/2017/11/18/Typescript_05/
  - https://pronist.tistory.com/92
  - https://tour.golang.org/methods/15
  - https://www.geeksforgeeks.org/type-assertions-in-golang/
  - https://www.sohamkamani.com/golang/type-assertions-vs-type-conversions/
  - https://hoonyland.medium.com/%EB%B2%88%EC%97%AD-interfaces-in-go-d5ebece9a7ea
- Type conversions
  - https://tour.golang.org/basics/13

